# Grant Insight WordPress Theme

è£œåŠ©é‡‘ãƒ»åŠ©æˆé‡‘è¨ºæ–­ã‚µã‚¤ãƒˆç”¨ã®WordPressãƒ†ãƒ¼ãƒã§ã™ã€‚

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. ã“ã®ãƒ†ãƒ¼ãƒãƒ•ã‚©ãƒ«ãƒ€ã‚’ `/wp-content/themes/` ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. WordPressç®¡ç†ç”»é¢ > å¤–è¦³ > ãƒ†ãƒ¼ãƒ ã‹ã‚‰ã€ŒGrant Insightã€ã‚’æœ‰åŠ¹åŒ–
3. functions.phpã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼ˆæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰:

```php
// Phase 1 æ©Ÿèƒ½ã®èª­ã¿è¾¼ã¿
require_once get_template_directory() . '/functions-integration.php';
require_once get_template_directory() . '/quick-setup.php';
```

### 2. å¿…è¦ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³

#### å¿…é ˆ
- **Advanced Custom Fields (ACF)** - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç®¡ç†
  - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„å ´åˆã¯ä»£æ›¿æ©Ÿèƒ½ã§å‹•ä½œã—ã¾ã™ãŒã€æ©Ÿèƒ½ãŒåˆ¶é™ã•ã‚Œã¾ã™

#### æ¨å¥¨
- **Contact Form 7** - ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ 
- **WP Super Cache** ã¾ãŸã¯ **W3 Total Cache** - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–

### 3. åˆæœŸè¨­å®š

#### è‡ªå‹•è¨­å®šã•ã‚Œã‚‹é …ç›®
- âœ… ã‚«ã‚¹ã‚¿ãƒ æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ï¼ˆè£œåŠ©é‡‘ã€ãƒ’ãƒ³ãƒˆã€ãƒ„ãƒ¼ãƒ«ã€äº‹ä¾‹ï¼‰
- âœ… ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ï¼ˆè£œåŠ©é‡‘ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆè¨ºæ–­å±¥æ­´ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰
- âœ… åŸºæœ¬ãƒšãƒ¼ã‚¸ï¼ˆFAQã€AIè¨ºæ–­ã€ãŠå•ã„åˆã‚ã›ï¼‰
- âœ… ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰

#### æ‰‹å‹•è¨­å®šãŒå¿…è¦ãªé …ç›®
1. **ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯è¨­å®š**
   - è¨­å®š > ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ > ã€ŒæŠ•ç¨¿åã€ã‚’é¸æŠ > å¤‰æ›´ã‚’ä¿å­˜

2. **ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š**
   - å¤–è¦³ > ãƒ¡ãƒ‹ãƒ¥ãƒ¼ > æ–°è¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
   - å¿…è¦ãªãƒšãƒ¼ã‚¸ã‚’è¿½åŠ 

3. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼è¨­å®š**
   - å¤–è¦³ > ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
   - ãƒ˜ãƒƒãƒ€ãƒ¼/ãƒ•ãƒƒã‚¿ãƒ¼ã®è‰²è¨­å®š
   - ãƒ­ã‚´ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
grant-insight-theme/
â”œâ”€â”€ ğŸ“„ Core Files
â”‚   â”œâ”€â”€ functions.php              # æ—¢å­˜ã®ãƒ†ãƒ¼ãƒé–¢æ•°
â”‚   â”œâ”€â”€ functions-integration.php  # Phase 1æ©Ÿèƒ½çµ±åˆ
â”‚   â”œâ”€â”€ quick-setup.php           # åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ style.css                 # ãƒ†ãƒ¼ãƒã‚¹ã‚¿ã‚¤ãƒ«
â”‚
â”œâ”€â”€ ğŸ“‚ Phase 1 Features (16 Tasks)
â”‚   â”œâ”€â”€ ajax-handlers-improved.php    # Task 1&7: AJAXå‡¦ç†
â”‚   â”œâ”€â”€ grant-counts.php              # Task 2: å‹•çš„ä»¶æ•°
â”‚   â”œâ”€â”€ ai-diagnosis.php              # Task 3: AIè¨ºæ–­
â”‚   â”œâ”€â”€ customizer-settings.php       # Task 4: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼
â”‚   â”œâ”€â”€ icon-management.php           # Task 5: ã‚¢ã‚¤ã‚³ãƒ³ç®¡ç†
â”‚   â”œâ”€â”€ helpers-improved.php          # Task 6: ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚   â”œâ”€â”€ safe-output-functions.php     # Task 8: å®‰å…¨ãªå‡ºåŠ›
â”‚   â”œâ”€â”€ data-validation.php           # Task 9: ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
â”‚   â”œâ”€â”€ individual-categories.php     # Task 10: å€‹äººå‘ã‘ã‚«ãƒ†ã‚´ãƒª
â”‚   â”œâ”€â”€ category-display.php          # Task 11: ã‚«ãƒ†ã‚´ãƒªè¡¨ç¤º
â”‚   â”œâ”€â”€ search-filter-stability.php   # Task 12: æ¤œç´¢å®‰å®šåŒ–
â”‚   â”œâ”€â”€ error-guidance-system.php     # Task 13: ã‚¨ãƒ©ãƒ¼/ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹
â”‚   â”œâ”€â”€ responsive-accessibility.php  # Task 14: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–
â”‚   â”œâ”€â”€ admin-enhancements.php        # Task 15: ç®¡ç†ç”»é¢å¼·åŒ–
â”‚   â””â”€â”€ system-optimization.php       # Task 16: ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–
â”‚
â”œâ”€â”€ ğŸ“‚ Templates
â”‚   â”œâ”€â”€ archive-grant.php         # è£œåŠ©é‡‘ä¸€è¦§
â”‚   â”œâ”€â”€ single-grant.php          # è£œåŠ©é‡‘è©³ç´°
â”‚   â”œâ”€â”€ page-faq.php             # FAQãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ page-contact.php         # ãŠå•ã„åˆã‚ã›
â”‚
â””â”€â”€ ğŸ“‚ Assets
    â”œâ”€â”€ js/
    â”‚   â”œâ”€â”€ ai-diagnosis.js      # AIè¨ºæ–­JS
    â”‚   â”œâ”€â”€ dynamic-counts.js    # å‹•çš„ä»¶æ•°JS
    â”‚   â””â”€â”€ help-system.js       # ãƒ˜ãƒ«ãƒ—ã‚·ã‚¹ãƒ†ãƒ JS
    â””â”€â”€ css/
        â””â”€â”€ (ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«)
```

## âœ¨ ä¸»è¦æ©Ÿèƒ½

### ğŸ¤– AIè¨ºæ–­æ©Ÿèƒ½
- 10å•ã®è³ªå•ã§æœ€é©ãªè£œåŠ©é‡‘ã‚’ææ¡ˆ
- è¨ºæ–­å±¥æ­´ã®ä¿å­˜
- ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

ä½¿ç”¨æ–¹æ³•:
```php
// ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰
[gi_ai_diagnosis]

// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
<?php echo do_shortcode('[gi_ai_diagnosis]'); ?>
```

### ğŸ” é«˜åº¦ãªæ¤œç´¢æ©Ÿèƒ½
- ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ
- æ¤œç´¢å±¥æ­´ä¿å­˜
- ã‚¼ãƒ­çµæœæ™‚ã®ææ¡ˆ
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ä¿å­˜

### ğŸ“Š ç®¡ç†ç”»é¢æ‹¡å¼µ
- ã‚«ã‚¹ã‚¿ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
- CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½
- è©³ç´°ãªçµ±è¨ˆè¡¨ç¤º

### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è‡ªå‹•ä½œæˆ
- å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 
- WebPç”»åƒè‡ªå‹•ç”Ÿæˆ
- é…å»¶èª­ã¿è¾¼ã¿å¯¾å¿œ

### â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- WCAG 2.1 Level AAæº–æ‹ 
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ACFãŒç„¡ã„å ´åˆã®ã‚¨ãƒ©ãƒ¼
`get_field()` é–¢æ•°ãŒæœªå®šç¾©ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ:
- quick-setup.phpãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ACFãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œãªã„
ç®¡ç†ç”»é¢ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:
```php
// functions.phpã«ä¸€æ™‚çš„ã«è¿½åŠ 
add_action('admin_init', function() {
    gi_create_diagnosis_tables();
    gi_create_error_log_table();
});
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥é–¢é€£ã®å•é¡Œ
- ç®¡ç†ç”»é¢ > ãƒ„ãƒ¼ãƒ« > DBæœ€é©åŒ– > ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
- ã¾ãŸã¯: `wp_cache_flush()` ã‚’å®Ÿè¡Œ

## ğŸ“ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°ã—ã„è£œåŠ©é‡‘ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
```php
// ACFä½¿ç”¨æ™‚
add_action('acf/init', function() {
    acf_add_local_field(array(
        'key' => 'field_custom',
        'label' => 'ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
        'name' => 'custom_field',
        'type' => 'text',
        'parent' => 'group_grant_fields'
    ));
});

// ACFä¸ä½¿ç”¨æ™‚
add_action('add_meta_boxes', function() {
    add_meta_box(
        'custom_field',
        'ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
        'render_custom_field_box',
        'grant'
    );
});
```

### ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®è¿½åŠ 
```php
// ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¿½åŠ 
add_action('wp_dashboard_setup', function() {
    wp_add_dashboard_widget(
        'custom_widget',
        'ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ',
        'render_custom_widget'
    );
});
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…æ¸ˆã¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
- âœ… å…¨AJAXã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§nonceæ¤œè¨¼
- âœ… XSSå¯¾ç­–ï¼ˆå‡ºåŠ›ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰
- âœ… SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆãƒ—ãƒªãƒšã‚¢ãƒ‰ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆï¼‰
- âœ… CSRFå¯¾ç­–
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
```php
// å®‰å…¨ãªå‡ºåŠ›
echo gi_safe_escape($user_input);

// å®‰å…¨ãªURL
echo gi_safe_url($url);

// å®‰å…¨ãªå±æ€§
echo gi_safe_attr($attribute);
```

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

ç®¡ç†ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹æƒ…å ±:
- âš¡ ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚é–“
- ğŸ’¾ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
- ğŸ” ã‚¯ã‚¨ãƒªæ•°

è©³ç´°ã¯: ãƒ„ãƒ¼ãƒ« > ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

## ğŸ¤ ã‚µãƒãƒ¼ãƒˆ

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [IMPLEMENTATION_GUIDE.md](IMPLEMENTATION_GUIDE.md) - å®Ÿè£…ã‚¬ã‚¤ãƒ‰
- [PHASE1_COMPLETION_REPORT.md](PHASE1_COMPLETION_REPORT.md) - å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

### å¿…è¦ãªç’°å¢ƒ
- WordPress: 5.0ä»¥ä¸Š
- PHP: 7.4ä»¥ä¸Š
- MySQL: 5.6ä»¥ä¸Š
- ãƒ¡ãƒ¢ãƒª: 128MBä»¥ä¸Šæ¨å¥¨

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ†ãƒ¼ãƒã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå°‚ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã§ã™ã€‚

---

## ğŸ¯ ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã®å‹•ä½œç¢ºèª:

1. **è£œåŠ©é‡‘æŠ•ç¨¿ã®ä½œæˆ**
   - æŠ•ç¨¿ > è£œåŠ©é‡‘ç®¡ç† > æ–°è¦è¿½åŠ 

2. **AIè¨ºæ–­ã®ãƒ†ã‚¹ãƒˆ**
   - ãƒšãƒ¼ã‚¸ > AIè¨ºæ–­ ã‚’è¡¨ç¤º

3. **æ¤œç´¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ**
   - ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã§è£œåŠ©é‡‘æ¤œç´¢

4. **ç®¡ç†ç”»é¢ã®ç¢ºèª**
   - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¡¨ç¤ºç¢ºèª
   - ãƒ„ãƒ¼ãƒ« > DBæœ€é©åŒ– ã§ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª

## æ›´æ–°å±¥æ­´

### Version 1.0.0 (2024-01)
- åˆå›ãƒªãƒªãƒ¼ã‚¹
- 16ã‚¿ã‚¹ã‚¯å®Œå…¨å®Ÿè£…

---

ãƒ†ãƒ¼ãƒã®æœ‰åŠ¹åŒ–å¾Œã€ç®¡ç†ç”»é¢ä¸Šéƒ¨ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—çŠ¶æ…‹ã€ã§ã€å¿…è¦ãªè¨­å®šãŒå®Œäº†ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚